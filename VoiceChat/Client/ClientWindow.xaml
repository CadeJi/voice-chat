<Window x:Class="ClientBase.ClientWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:client="clr-namespace:Controls.Client;assembly=Controls"
    Title="Client" Height="350" Width="694" Closing="ClientForm_OnClosing"
        Closed="ClientForm_OnClosed"
        Loaded="ClientForm_Load">
    <Grid Margin="0,0,4.5,0.5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" MinHeight="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="60*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition MaxWidth="150" Width="50*"/>
            <ColumnDefinition Width="140*"/>
            <ColumnDefinition Width="30*" MaxWidth="100"/>
        </Grid.ColumnDefinitions>
        <client:ChatTabControl x:Name="tbChat" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.RowSpan="4" Margin="10,10,9.5,5" SelectionChanged="tbChat_SelectionChanged"
                               ContextMenuOpening="FrameworkElement_OnContextMenuOpening" ToolTipService.ShowDuration="4000" Grid.ColumnSpan="2">
            <client:ChatTabControl.ToolTip>
                <StackPanel>
                    <TextBlock>Right click to show context menu</TextBlock>
                </StackPanel>
            </client:ChatTabControl.ToolTip>

            <client:ChatTabControl.ContextMenu>
                <ContextMenu>
                    <MenuItem x:Name="closeTab" Header="Close Tab" Click="CloseTab_OnClick"/>
                </ContextMenu>
            </client:ChatTabControl.ContextMenu>
        </client:ChatTabControl>
        <TextBox x:Name="tbMessage" HorizontalAlignment="Stretch"  VerticalAlignment="Bottom" Margin="10,0,200,5" Grid.Row="4" TextWrapping="Wrap" Height="42" Grid.ColumnSpan="2"
                 Grid.Column="0" KeyDown="tbMessage_KeyDown" TextChanged="messageTextbox_TextChanged"/>
        <Button x:Name="sendMsg" Content="Send Message" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="1" MaxWidth="90" MaxHeight="42" Grid.Row="4" MinWidth="90" MinHeight="42" Margin="0,4.5,105,5" Click="sendMessage_Click"/>
        <Button x:Name="callBtn" Content="Call" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="1" MaxWidth="90" MaxHeight="42" Grid.Row="4" MinWidth="90" MinHeight="42" Margin="0,4.5,10,5" Click="call_Click" Width="83"/>
        <Expander x:Name="MainMenu" Header="Menu" Grid.Column="2" Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Stretch" Margin="0,10,0,0">
            <StackPanel x:Name="mainPanel">
                <CheckBox Margin="4" Content="Profile"/>
                <CheckBox Margin="4" Content="Settings"/>
            </StackPanel>
        </Expander>
        <Expander Header="Friends" Grid.Row="1" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Stretch" x:Name="Friendlist" Margin="0,10,0,0" >
            <StackPanel x:Name="friendPanel">
                <TextBlock Margin="4">no friends</TextBlock>
            </StackPanel>
        </Expander>
        <Expander Header="All Users" Grid.Row="2" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Stretch" x:Name="AllList" Margin="0,10,0,0">
            <StackPanel x:Name="allPanel">
                <TextBlock Margin ="4">no users online</TextBlock>
            </StackPanel>
        </Expander>
    </Grid>
</Window>
